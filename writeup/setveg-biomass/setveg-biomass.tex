% small.tex
\documentclass{beamer}
\usetheme{Boadilla}
\setbeamertemplate{blocks}[rounded][shadow=false] 

\usepackage{subfig}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{color}
 
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{ %
  language=Python,                % the language of the code
  basicstyle=\footnotesize,           % the size of the fonts that are used for the code
  %numbers=left,                   % where to put the line-numbers
  %numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
  %stepnumber=2,                   % the step between two line-numbers. If it's 1, each line 
                                  % will be numbered
  %numbersep=5pt,                  % how far the line-numbers are from the code
  %backgroundcolor=\color{white},      % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  %frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=2,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                   % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  keywordstyle=\color{blue},          % keyword style
  commentstyle=\color{dkgreen},       % comment style
  stringstyle=\color{mauve},         % string literal style
  escapeinside={\%*}{*)},            % if you want to add a comment within your code
  morekeywords={dynamic, string}               % if you want to add more keywords to the set
}


\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents[currentsection]
  \end{frame}
}


%About me
\author{Wesley Brooks} 
\title{Modeling PalEON biomass}
%\subtitle{Wesley Brooks} 
\institute{UW-Madison} 

\begin{document}

%Title slide
\begin{frame}
\titlepage
\end{frame}


%Table of contents
\begin{frame}{Outline}
  \tableofcontents
\end{frame}


%Goal
\begin{frame}{Goal}
  \begin{itemize}
    \item Produce a model of per-species biomass at time of settlement
  \end{itemize}
\end{frame}

\section{Data}
\subsection{Overview of the data}

% Data
\begin{frame}{Data}
  \begin{itemize}
    \item Computed from settlement-era survey
    \item Working with composition, biomass, and stem density
  \end{itemize}
\end{frame}


%
\begin{frame}{}
\begin{center}
  %\includegraphics[width=0.8\textwidth]{figures/lh-results}
\end{center}
\end{frame}


\subsection{Models}

%Modeling table
\begin{frame}{}
\begin{center}
  \begin{tabular}{rccc}
  & one-stage & two-stage & zero-inflated \\
  independent & a & b & c \\
  gam & d & e & f \\
  inla & g & h & i
  \end{tabular}
\end{center}
\end{frame}


%Model types
\begin{frame}{Models}
  There are two divisions for modeling biomass data:
  \begin{itemize}
    \item One-stage vs. two-stage
    \item Smoothing splines vs. GMRF
   \end{itemize}
\end{frame}


  %Models
\begin{frame}[fragile]{Two-stage models}
  \begin{itemize}
    \item First stage: zero/non-zero
    \begin{itemize}
      \item Logistic regression
      \item $Z \sim \text{Bernoulli}(\gamma)$
      \item $\text{logit}(\gamma) = f(x,y,p_k)$
    \end{itemize}
    \item Second stage: distribution of positive biomass
    \begin{itemize}
      \item $Y|Z=1 \sim \text{Gamma}(\alpha, \beta)$
      \item $\text{E}\left(Y|Z=1\right) = \mu = \alpha \beta = f(x,y,p_k)$
    \end{itemize}
  \end{itemize}
\end{frame}


  %Models
\begin{frame}[fragile]{Two-stage models}
  Mean and variance of the two-stage model:\\
  \begin{itemize}
    \item $E(Y) = \gamma \mu$
    \item var$(Y) = \gamma \alpha \beta^2 \left(1 + \alpha(1-\gamma)\right) $
  \end{itemize}
\end{frame}



  %Models
\begin{frame}[fragile]{Tweedie model}
  The Tweedie model is a Gamma-Poisson mixture.\\
  \begin{itemize}
    \item Draw $N \sim \text{Poisson}(\lambda)$
    \item Now make $N$ iid draws: $V_{\ell} \sim \text{Gamma}(\alpha, \beta)$
    \item $Y = \sum\limits_{\ell=1}^N  V_{\ell}$
  \end{itemize}
\end{frame}


\begin{frame}[fragile]{Tweedie model}
  With $\theta$ given, the Tweedie distribution is in the exponential family with natural parameter $\nu$:\\
  \begin{itemize}
    \item $f(y) = \exp\left\{ \phi^{-1} \left[ y \nu - \kappa(\nu)\right] + c(y,\phi,\nu) \right\}$
    \item $\phi$ is a scale parameter
    \item $\nu = \mu^{1-\theta} / \left(1-\theta\right)$
    \item $\kappa \left(\nu\right) = \left[(1-\theta)\nu\right]^{\left(2-\theta\right) / \left(1-\theta\right)} / \left(2-\theta\right) = \mu^{2-\theta} / \left(2-\theta\right)$
  \end{itemize}
\end{frame}


\section{Methodological details}
\subsection{}




\end{document}
